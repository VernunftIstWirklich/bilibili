# B站视频分析项目运行总结

## 项目概述
这是一个用于分析B站视频弹幕和评论的Python脚本项目，专门用于分析"首届大学生春晚2025"视频的文本数据。

## 已安装的依赖项
项目已成功安装以下Python包：
- **bilibili-api-python** - B站API接口库
- **selenium** - 网页自动化工具（用于登录获取cookies）
- **jieba** - 中文分词库
- **snownlp** - 中文情感分析库
- **matplotlib** - 图表绘制库
- **wordcloud** - 词云图生成库
- **pandas** - 数据处理库
- **httpx** - HTTP客户端库
- **chardet** - 字符编码检测库

## 成功运行的功能

### 1. 弹幕数据获取与分析
- ✅ 成功获取了**171,122条弹幕**数据
- ✅ 按CSV文件中定义的视频片段分组分析
- ✅ 生成了每个片段的词频统计和词云图
- ✅ 生成了总体词云图

### 2. 评论数据获取与分析  
- ✅ 成功获取了**5,969条评论**数据
- ✅ 进行了情感分析（正面/中性/负面）
- ✅ 总体情感分布：正面3582条，中性1460条，负面927条
- ✅ 按类别（传统文化、节目本身）进行了情感分析

### 3. 生成的分析结果文件
在`analysis_results`目录中生成了：

#### 词云图文件
- `wordcloud_overall.png` - 总体词云图
- 13个分片段词云图（如《方山大鼓：象王行》、《武术》等）

#### 情感分析饼图
- `comment_sentiment_pie_overall.png` - 总体评论情感饼图
- `comment_sentiment_pie_传统文化.png` - 传统文化相关评论情感分布
- `comment_sentiment_pie_节目本身.png` - 节目本身相关评论情感分布

#### 原始数据文件
- `danmaku_combined.txt` - 所有弹幕文本数据（3.9MB）

## 技术亮点

### 1. 编码问题解决
- ✅ 自动检测并修复了CSV文件的编码问题（GB2312 → UTF-8）
- ✅ 正确处理了中文字符的显示和分析

### 2. 系统适配
- ✅ 成功配置了macOS系统的中文字体路径
- ✅ 正确检测并使用了系统已安装的Edge WebDriver

### 3. 数据处理
- ✅ 智能的时间格式解析（HH:MM:SS格式）
- ✅ 有效的中文停用词过滤
- ✅ 专业的情感分析分类

## 项目状态
🎉 **项目已完全成功运行！**所有依赖项已正确安装，所有功能模块正常工作，生成了完整的分析结果。

## 使用说明
运行项目：
```bash
python3 main.py
```
然后输入B站视频的BV号（如：BV1aBfZYuEe7）即可开始分析。

分析结果将保存在`analysis_results`目录中。 